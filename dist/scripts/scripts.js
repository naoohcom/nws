"use strict";angular.module("angularjsApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","nWorkSheet"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("angularjsApp").controller("MainCtrl",function(){}),angular.module("angularjsApp").controller("AboutCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("nWorkSheet",["ngTable"]).controller("nworksheetCtrl",["$scope","ngTableParams",function(a,b){a.data=[{name:"Moroni",age:50},{name:"Tiancum",age:43},{name:"Jacob",age:27},{name:"Nephi",age:29},{name:"Enos",age:34},{name:"Tiancum",age:43},{name:"Jacob",age:27},{name:"Nephi",age:29},{name:"Enos",age:34},{name:"Tiancum",age:43},{name:"Jacob",age:27},{name:"Nephi",age:29},{name:"Enos",age:34},{name:"Tiancum",age:43},{name:"Jacob",age:27},{name:"Nephi",age:29},{name:"Enos",age:34}],a.tableParams=new b({page:1,count:10},{total:a.data.length,getData:function(b,c){b.resolve(a.data.slice((c.page()-1)*c.count(),c.page()*c.count()))}})}]).directive("nws",["$http","ngTableParams",function(a,b){return{replace:!1,templateUrl:"/views/nws.html",scope:{worksheetParams:"=",nwsDataUrl:"="},link:function(c){c.selectedCategory="",c.tableParams=new b({page:1,count:10}),c.httpreg=function(a){var b=/(http|ftp|https):\/\/[\w-]+(\.[\w-]+)+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])/;return b.test(a)},void 0!==c.nwsDataUrl&&a.get(c.nwsDataUrl).success(function(a){c.worksheetParams=a,c.tableData=c.worksheetParams.category[0].data,c.$broadcast("dataLoaded",{type:"one"})})},controller:function(){}}}]).directive("nwsMenu",["$filter",function(a){return{template:'<div><ul ><li> <a ng-click="changeCategory()">전체</a></li><li ng-click="changeCategory(item.name)" ng-repeat="item in worksheetParams.category"><a style="cursor:pointer;">{{ item.name }}</a></li></ul></div>',require:"^nws",link:function(b){b.changeCategory=function(c){if(console.log(c),void 0!==c){console.log(c);var d=a("filter")(b.worksheetParams.category,{name:c})[0].data;b.tableData=d,console.log(c+", "+b.tableData),b.$broadcast("changed",{type:"one"})}else{for(var e=[],f=0;f<b.worksheetParams.category.length;f++){for(var g=0;g<b.worksheetParams.category[f].data.length;g++)console.log(b.worksheetParams.category[f].data[g]),e.push(b.worksheetParams.category[f].data[g]);console.log(b.tableData)}b.tableData=e,console.log(b.tableData),b.$broadcast("changed",{type:"all"})}}}}}]).directive("nwsTable",["ngTableParams","$filter",function(a,b){return{require:"^nws",transclude:"element",link:function(c,d,e,f,g){var h=null,i=function(){h&&(h.remove(),h=null),g(function(a){d.parent().append(a),h=a})};c.getData=function(d){"one"===d.type?c.tableParams=new a({page:1,count:10},{total:c.tableData.length,getData:function(a,b){a.resolve(c.tableData.slice((b.page()-1)*b.count(),b.page()*b.count()))}}):c.tableParams=new a({page:1,count:50},{groupBy:"category",total:c.tableData.length,getData:function(a,d){var e=d.sorting()?b("orderBy")(c.tableData,c.tableParams.orderBy()):c.tableData;a.resolve(e.slice((d.page()-1)*d.count(),d.page()*d.count()))}})},i(),c.$on("dataLoaded",function(a,b){c.getData(b),i(),c.option=b}),c.$on("changed",function(a,b){c.getData(b),i(),c.option=b})}}}]);